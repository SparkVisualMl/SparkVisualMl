package com.spark.utils;import org.apache.commons.configuration.ConfigurationException;import org.apache.commons.configuration.PropertiesConfiguration;import org.apache.log4j.PropertyConfigurator;import java.util.Iterator;public class ConfigUtil {    public static PropertiesConfiguration getProps() throws ConfigurationException {        String mainHome = System.getProperty("user.dir");        PropertyConfigurator.configure(mainHome + "/conf/log4j.properties");        PropertiesConfiguration config = new PropertiesConfiguration(mainHome + "/conf/default.properties"); //读取配置文件        config.addProperty("mainHome", mainHome);        return config;    }    private static PropertiesConfiguration getPropsByFileName(String finame) throws ConfigurationException {        String mainHome = System.getProperty("user.dir");        PropertyConfigurator.configure(mainHome + "/conf/log4j.properties");        PropertiesConfiguration config = new PropertiesConfiguration(mainHome + "/conf/"+finame+".properties"); //读取配置文件        return config;    }    public static String getArrayStrByKey(String hosts) throws ConfigurationException {        PropertiesConfiguration config = ConfigUtil.getProps();        String hostArray[] = config.getStringArray(hosts);        StringBuilder sb = new StringBuilder();        for (int i = 0; i < hostArray.length; i++) {            sb.append(hostArray[i]);            if (i != hostArray.length - 1) {                sb.append(",");            }        }        return sb.toString();    }    public static String getValueByKeyInConfig(String key) throws ConfigurationException {        PropertiesConfiguration configuration = getProps();        return configuration.getString(key);    }}